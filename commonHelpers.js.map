{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader');\nconst searchForm = document.querySelector('.search-form');\n\nconst apiKey = '42175181-9f2e4ea0c75ffabf50c3ef9f9';\n\nfunction toastSuccess(message) {\n    iziToast.success({\n        title: 'Success',\n        message: message,\n        position: 'topRight'\n    });\n}   \n\nfunction toastError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight'\n    });\n}\n\nasync function searchImages(query) {\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const response = await fetch(url);\n    const data = await response.json();\n    \n    return data.hits;\n}\n\ndocument.getElementById('search-form').addEventListener('submit', async function (event) {\n    event.preventDefault();\n\n    const query = document.getElementById('query').value.trim();\n\n    if (!query) {\n        iziToast.warning({ title: 'Warning', message: 'Please enter a search query.' });\n        return;\n    }\n\n    try {\n        loaderContainer.style.display = 'block';\n        const images = await searchImages(query);\n        if (images.length > 0) {\n            displayImages(images);\n            toastSuccess(`Was found: ${images.length} images`);\n            initializeLightbox();\n        } else {\n            galleryContainer.innerHTML = '';\n            toastError('Sorry, there are no images matching your search query. Please try again!');\n        }\n    } catch (error) {\n        console.error('Error fetching images:', error);\n        toastError('Failed to fetch images.');\n    } finally {\n        loaderContainer.style.display = 'none';\n    }\n});\n\nfunction displayImages(images) {\n    galleryContainer.innerHTML = '';\n\n    const imageCards = images.map(image => {\n        return `\n            <div class=\"image-card\">\n                <a href=\"${image.largeImageURL}\" data-lightbox=\"image-set\" data-title=\"${image.tags}\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                    <div class=\"info\">Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}</div>\n                </a>\n            </div>\n        `;\n    });\n\n    galleryContainer.innerHTML = imageCards.join('');\n}\n\nfunction initializeLightbox() {\n    new SimpleLightbox('#gallery a').refresh();\n}"],"names":["galleryContainer","loaderContainer","apiKey","toastSuccess","message","iziToast","toastError","searchImages","query","url","event","images","displayImages","initializeLightbox","error","imageCards","image","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAkB,SAAS,cAAc,SAAS,EACrC,SAAS,cAAc,cAAc,EAExD,MAAMC,EAAS,qCAEf,SAASC,EAAaC,EAAS,CAC3BC,EAAS,QAAQ,CACb,MAAO,UACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEA,SAASE,EAAWF,EAAS,CACzBC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEA,eAAeG,EAAaC,EAAO,CAC/B,MAAMC,EAAM,gCAAgCP,OAAY,mBAAmBM,CAAK,4DAIhF,OAFa,MADI,MAAM,MAAMC,CAAG,GACJ,QAEhB,IAChB,CAEA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAU,eAAgBC,EAAO,CACrFA,EAAM,eAAc,EAEpB,MAAMF,EAAQ,SAAS,eAAe,OAAO,EAAE,MAAM,OAErD,GAAI,CAACA,EAAO,CACRH,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,8BAA8B,CAAE,EAC9E,MACH,CAED,GAAI,CACAJ,EAAgB,MAAM,QAAU,QAChC,MAAMU,EAAS,MAAMJ,EAAaC,CAAK,EACnCG,EAAO,OAAS,GAChBC,EAAcD,CAAM,EACpBR,EAAa,cAAcQ,EAAO,eAAe,EACjDE,MAEAb,EAAiB,UAAY,GAC7BM,EAAW,0EAA0E,EAE5F,OAAQQ,EAAP,CACE,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CR,EAAW,yBAAyB,CAC5C,QAAc,CACNL,EAAgB,MAAM,QAAU,MACnC,CACL,CAAC,EAED,SAASW,EAAcD,EAAQ,CAC3BX,EAAiB,UAAY,GAE7B,MAAMe,EAAaJ,EAAO,IAAIK,GACnB;AAAA;AAAA,2BAEYA,EAAM,wDAAwDA,EAAM;AAAA,gCAC/DA,EAAM,sBAAsBA,EAAM;AAAA,+CACnBA,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM;AAAA;AAAA;AAAA,SAI/H,EAEDhB,EAAiB,UAAYe,EAAW,KAAK,EAAE,CACnD,CAEA,SAASF,GAAqB,CAC1B,IAAII,EAAe,YAAY,EAAE,SACrC"}