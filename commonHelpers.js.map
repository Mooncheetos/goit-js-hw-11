{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader');\nconst searchForm = document.querySelector('.search-form');\n\nconst apiKey = '42175181-9f2e4ea0c75ffabf50c3ef9f9';\n\nfunction toastSuccess(message) {\n    iziToast.success({\n        title: 'Success',\n        message: message,\n        position: 'topRight'\n    });\n}   \n\nfunction toastError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight'\n    });\n}\n\nsearchForm.addEventListener('submit', async function (event) {\n    event.preventDefault();\n\n    const query = document.getElementById('query').value.trim();\n\n    if (!query) {\n        iziToast.warning({ title: 'Warning', message: 'Please enter a search query.' });\n        return;\n    }\n\n    try {\n        loaderContainer.style.display = 'block';\n        const data = await searchImages(query);\n        if (data.hits.length > 0) {\n            displayImages(data.hits);\n            toastSuccess(`Was found: ${data.total} images`);\n            initializeLightbox();\n        } else {\n            toastError('Sorry, there are no images matching your search query. Please try again!');\n        }\n    } catch (error) {\n        console.error('Error fetching images:', error);\n        toastError('Failed to fetch images.');\n    } finally {\n        loaderContainer.style.display = 'none';\n    }\n});\n\nasync function searchImages(query) {\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const response = await fetch(url);\n    return response.json();\n}\n\nfunction displayImages(images) {\n    const fragment = document.createDocumentFragment();\n\n    images.forEach(image => {\n        const a = document.createElement('a');\n        a.href = image.largeImageURL;\n        a.setAttribute('data-lightbox', 'image-set');\n        a.setAttribute('data-title', image.tags);\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        a.appendChild(img);\n\n        const div = document.createElement('div');\n        div.className = 'info';\n        div.innerHTML = `Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}`;\n\n        a.appendChild(div);\n\n        const divCard = document.createElement('div');\n        divCard.className = 'image-card';\n        divCard.appendChild(a);\n\n        fragment.appendChild(divCard);\n    });\n\n    galleryContainer.innerHTML = '';\n    galleryContainer.appendChild(fragment);\n}\n\nlet lightbox;\n\nfunction initializeLightbox() {\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a');\n    } else {\n        lightbox.refresh();\n    }\n}"],"names":["galleryContainer","loaderContainer","searchForm","apiKey","toastSuccess","message","iziToast","toastError","event","query","data","searchImages","displayImages","initializeLightbox","error","url","images","fragment","image","a","img","div","divCard","lightbox","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAkB,SAAS,cAAc,SAAS,EAClDC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAS,qCAEf,SAASC,EAAaC,EAAS,CAC3BC,EAAS,QAAQ,CACb,MAAO,UACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEA,SAASE,EAAWF,EAAS,CACzBC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEAH,EAAW,iBAAiB,SAAU,eAAgBM,EAAO,CACzDA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,SAAS,eAAe,OAAO,EAAE,MAAM,OAErD,GAAI,CAACA,EAAO,CACRH,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,8BAA8B,CAAE,EAC9E,MACH,CAED,GAAI,CACAL,EAAgB,MAAM,QAAU,QAChC,MAAMS,EAAO,MAAMC,EAAaF,CAAK,EACjCC,EAAK,KAAK,OAAS,GACnBE,EAAcF,EAAK,IAAI,EACvBN,EAAa,cAAcM,EAAK,cAAc,EAC9CG,KAEAN,EAAW,0EAA0E,CAE5F,OAAQO,EAAP,CACE,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CP,EAAW,yBAAyB,CAC5C,QAAc,CACNN,EAAgB,MAAM,QAAU,MACnC,CACL,CAAC,EAED,eAAeU,EAAaF,EAAO,CAC/B,MAAMM,EAAM,gCAAgCZ,OAAY,mBAAmBM,CAAK,4DAEhF,OADiB,MAAM,MAAMM,CAAG,GAChB,MACpB,CAEA,SAASH,EAAcI,EAAQ,CAC3B,MAAMC,EAAW,SAAS,yBAE1BD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EAAM,cACfC,EAAE,aAAa,gBAAiB,WAAW,EAC3CA,EAAE,aAAa,aAAcD,EAAM,IAAI,EAEvC,MAAME,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAEhBC,EAAE,YAAYC,CAAG,EAEjB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,OAChBA,EAAI,UAAY,UAAUH,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM,YAE/GC,EAAE,YAAYE,CAAG,EAEjB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,aACpBA,EAAQ,YAAYH,CAAC,EAErBF,EAAS,YAAYK,CAAO,CACpC,CAAK,EAEDtB,EAAiB,UAAY,GAC7BA,EAAiB,YAAYiB,CAAQ,CACzC,CAEA,IAAIM,EAEJ,SAASV,GAAqB,CACrBU,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAIC,EAAe,YAAY,CAIlD"}